<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Drive ID Extractor API</title>
    <!-- Load Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Set up Tailwind for dark mode and Inter font
        tailwind.config = {
            darkMode: 'class', // 'class' enables manual dark mode toggling
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        };
        // Apply dark mode based on user's system preference
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        /* Simple body styles for the Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="h-full bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 antialiased">
    
    <div class="flex flex-col items-center justify-center min-h-full p-6 py-12">
        <div class="w-full max-w-2xl text-center">
            
            <!-- Header -->
            <h1 class="text-3xl sm:text-4xl font-bold tracking-tight text-gray-900 dark:text-white">
                Universal Google Drive ID Extractor
            </h1>
            <p class="mt-3 text-lg text-gray-600 dark:text-gray-300">
                A free, open-source API utility to extract Document or Folder IDs from any Google Drive URL.
            </p>

            <!-- Why This is Useful Paragraph -->
            <p class="mt-6 text-base text-gray-700 dark:text-gray-400 max-w-lg mx-auto">
                This tool solves a common problem in automation. Instead of rebuilding the same "Get ID" logic in every workflow (and paying operations/credits for it in tools like Make.com or for AI agents), you can just call this single, free API.
            </p>
            <p class="mt-4 text-base text-gray-700 dark:text-gray-400 max-w-lg mx-auto">
                It follows the <strong class="font-semibold text-gray-900 dark:text-white">"Don't Repeat Yourself" (DRY)</strong> principle, making your automations cleaner, cheaper, and easier to maintain.
            </p>

            <!-- API Usage Box -->
            <div class="mt-10 text-left bg-white dark:bg-gray-800 shadow-xl rounded-lg overflow-hidden">
                <div class="p-6">
                    <h2 class="text-xl font-semibold mb-4">How to Use This API</h2>
                    
                    <p class="text-gray-700 dark:text-gray-300 mb-2">
                        Make a <span class="font-mono p-1 rounded bg-gray-100 dark:bg-gray-700 text-sm">POST</span> request to the endpoint:
                    </p>
                    <pre class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 rounded text-sm overflow-x-auto"><code>/api/</code></pre>
                    
                    <!-- ### SINGLE URL ### -->
                    <h3 class="text-lg font-semibold mt-6 mb-2 text-gray-800 dark:text-gray-100">1. Single URL</h3>
                    <div class="flex items-center justify-between mb-2">
                        <p class="text-gray-700 dark:text-gray-300">
                            With a JSON body specifying the <span class="font-mono p-1 rounded bg-gray-100 dark:bg-gray-700 text-sm">url</span>:
                        </p>
                        <button 
                            id="copy-button-single"
                            class="rounded-md bg-gray-200 dark:bg-gray-700 px-3 py-1 text-sm font-semibold text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-500"
                        >
                            Copy
                        </button>
                    </div>
                    
                    <pre class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 rounded text-sm overflow-x-auto"><code>{
  "url": "https://docs.google.com/document/d/1aBcD_.../edit"
}</code></pre>

                    <p class="text-gray-700 dark:text-gray-300 mt-4 mb-2">
                        A successful request will return:
                    </p>
                    <pre class="bg-gray-100 dark:bg-gray-900 text-green-700 dark:text-green-300 p-4 rounded text-sm overflow-x-auto"><code>{
  "googleID": "1aBcD_..."
}</code></pre>

                    <!-- ### BATCH (MULTIPLE) URLS ### -->
                    <h3 class="text-lg font-semibold mt-8 mb-2 text-gray-800 dark:text-gray-100">2. Batch (Multiple) URLs</h3>
                     <div class="flex items-center justify-between mb-2">
                        <p class="text-gray-700 dark:text-gray-300">
                            Send an array in a <span class="font-mono p-1 rounded bg-gray-100 dark:bg-gray-700 text-sm">urls</span> key:
                        </p>
                        <button 
                            id="copy-button-batch"
                            class="rounded-md bg-gray-200 dark:bg-gray-700 px-3 py-1 text-sm font-semibold text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-500"
                        >
                            Copy
                        </button>
                    </div>
                    
                    <pre class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 rounded text-sm overflow-x-auto"><code>{
  "urls": [
    "https://docs.google.com/document/d/1aBcD_.../edit",
    "https://drive.google.com/drive/folders/2bCdE_...",
    "https://invalid.url/foo"
  ]
}</code></pre>

                    <p class="text-gray-700 dark:text-gray-300 mt-4 mb-2">
                        A successful request will return an array of results:
                    </p>
                    <pre class="bg-gray-100 dark:bg-gray-900 text-green-700 dark:text-green-300 p-4 rounded text-sm overflow-x-auto"><code>{
  "results": [
    {
      "url": "https://docs.google.com/document/d/1aBcD_.../edit",
      "googleID": "1aBcD_..."
    },
    {
      "url": "https://drive.google.com/drive/folders/2bCdE_...",
      "googleID": "2bCdE_..."
    },
    {
      "url": "https://invalid.url/foo",
      "googleID": null
    }
  ]
}</code></pre>

                </div>
            </div>

            <!-- Links -->
            <div class="mt-8 flex items-center justify-center gap-x-6">
                <a 
                    href="https://github.com/henryreith/Universal-Google-Drive-ID-Extractor" 
                    target="_blank" 
                    rel="noopener noreferrer" 
                    class="rounded-md bg-gray-700 dark:bg-gray-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-600 dark:hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-500"
                >
                    View on GitHub &rarr;
                </a>
                <a 
                    href="https://henryreith.co" 
                    target="_blank" 
                    rel="noopener noreferrer" 
                    class="text-sm font-semibold leading-6 text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white"
                >
                    Read the tutorial <span aria-hidden="true">&rarr;</span>
                </a>
            </div>

        </div>
    </div>

    <!-- JavaScript for Copy to Clipboard -->
    <script>
        function setupCopyButton(buttonId, text) {
            const button = document.getElementById(buttonId);
            if (!button) return;

            button.addEventListener('click', function() {
                const textToCopy = text;
                const textarea = document.createElement('textarea');
                textarea.value = textToCopy;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                
                textarea.select();
                
                try {
                    document.execCommand('copy');
                    button.textContent = 'Copied!';
                    setTimeout(() => {
                        button.textContent = 'Copy';
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    button.textContent = 'Failed';
                    setTimeout(() => {
                        button.textContent = 'Copy';
                    }, 2000);
                }
                
                document.body.removeChild(textarea);
            });
        }

        // Setup Single URL Copy
        const singleUrlText = `{
  "url": "YOUR_GOOGLE_DRIVE_URL_HERE"
}`;
        setupCopyButton('copy-button-single', singleUrlText);

        // Setup Batch URL Copy
        const batchUrlText = `{
  "urls": [
    "YOUR_FIRST_URL_HERE",
    "YOUR_SECOND_URL_HERE"
  ]
}`;
        setupCopyButton('copy-button-batch', batchUrlText);
    </script>

</body>
</html>
